import"../chunks/DsnmJJEf.js";import"../chunks/CkuBKPka.js";import{K as P,I as _,C as s,J as v,M as T,$ as k,O as d,P as c,Q as u,R as f,T as r,V as q}from"../chunks/hUWcfofg.js";import{h as C,e as J,s as S}from"../chunks/BsuLAxzl.js";import{i as j}from"../chunks/kL-VIWrM.js";import{r as h}from"../chunks/4kqP-wJn.js";import{b as w}from"../chunks/BmBQcqyL.js";import{p as D}from"../chunks/CdEA5IGF.js";import{i as E}from"../chunks/DtF09Nb2.js";import{g as I}from"../chunks/CdSYgjJX.js";var K=_('<p class="error svelte-12dwnis" style="color:red"> </p>'),L=_('<div class="send-container container svelte-12dwnis"><form class="svelte-12dwnis"><h1 class="svelte-12dwnis">Вход</h1> <input placeholder="Username" required class="svelte-12dwnis"/> <input type="password" placeholder="Password" required class="svelte-12dwnis"/> <button type="submit" class="svelte-12dwnis">Войти</button> <!></form></div>');function G(b,g){P(g,!1);let a=u(""),o=u(""),t=u(null);async function y(){r(t,null);try{if(!(await fetch("http://localhost:8080/auth/login",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:s(a),password:s(o)})})).ok)throw new Error("Login failed");I("/admin")}catch(e){r(t,e.message)}}E();var i=L();C(e=>{k.title="Войти в админку"});var n=c(i),l=d(c(n),2);h(l);var p=d(l,2);h(p);var $=d(p,4);{var x=e=>{var m=K(),O=c(m,!0);f(m),q(()=>S(O,s(t))),v(e,m)};j($,e=>{s(t)&&e(x)})}f(n),f(i),w(l,()=>s(a),e=>r(a,e)),w(p,()=>s(o),e=>r(o,e)),J("submit",n,D(y)),v(b,i),T()}export{G as component};
