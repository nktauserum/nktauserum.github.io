import{i as I,j as h,q as N,E as x,t as D,v as F,w as R,m as q,s as k,h as L,x as y,y as B,U as C,z as O,A as U,B as Y,n as j,D as w,F as z,b as G,G as H,S as M}from"./B6oVeRHi.js";function Z(s,f,c=!1){h&&N();var i=s,e=null,a=null,r=C,S=c?x:0,u=!1;const g=(l,t=!0)=>{u=!0,v(t,l)};var n=null;function o(){n!==null&&(n.lastChild.remove(),i.before(n),n=null);var l=r?e:a,t=r?a:e;l&&U(l),t&&Y(t,()=>{r?a=null:e=null})}const v=(l,t)=>{if(r===(r=l))return;let b=!1;if(h){const m=D(i)===F;!!r===m&&(i=R(),q(i),k(!1),b=!0)}var T=O(),d=i;if(T&&(n=document.createDocumentFragment(),n.append(d=L())),r?e??=t&&y(()=>t(d)):a??=t&&y(()=>t(d)),T){var _=B,p=r?e:a,E=r?a:e;p&&_.skipped_effects.delete(p),E&&_.skipped_effects.add(E),_.add_callback(o)}else o();b&&k(!0)};I(()=>{u=!1,f(g),u||v(null,null)},S),h&&(i=j)}function A(s,f){return s===f||s?.[M]===f}function J(s={},f,c,i){return w(()=>{var e,a;return z(()=>{e=a,a=[],G(()=>{s!==c(...a)&&(f(s,...a),e&&A(c(...e),s)&&f(null,...e))})}),()=>{H(()=>{a&&A(c(...a),s)&&f(null,...a)})}}),s}export{J as b,Z as i};
