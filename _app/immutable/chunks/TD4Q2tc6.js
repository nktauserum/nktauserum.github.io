import{v as R,w as b,x,E as F,y as L,H as O,z as U,A as C,B as E,C as M,D as N,F as q,U as w,G as B,I as H,J as P,K as Y,L as z,M as G,b as J,N as K,S as Q,O as Z,P as $,o as S,Q as j,g as V,R as W}from"./BpNPxeNz.js";import{s as X,g as ee}from"./BI3x7wsz.js";function ae(e,a,n=!1){b&&x();var s=e,t=null,r=null,i=w,I=n?F:0,o=!1;const k=(l,f=!0)=>{o=!0,h(f,l)};var u=null;function p(){u!==null&&(u.lastChild.remove(),s.before(u),u=null);var l=i?t:r,f=i?r:t;l&&H(l),f&&P(f,()=>{i?r=null:t=null})}const h=(l,f)=>{if(i===(i=l))return;let g=!1;if(b){const D=L(s)===O;!!i===D&&(s=U(),C(s),E(!1),g=!0)}var y=B(),d=s;if(y&&(u=document.createDocumentFragment(),u.append(d=M())),i?t??=f&&N(()=>f(d)):r??=f&&N(()=>f(d)),y){var _=q,T=i?t:r,m=i?r:t;T&&_.skipped_effects.delete(T),m&&_.skipped_effects.add(m),_.add_callback(p)}else p();g&&E(!0)};R(()=>{o=!1,a(k),o||h(null,null)},I),b&&(s=Y)}function A(e,a){return e===a||e?.[Q]===a}function te(e={},a,n,s){return z(()=>{var t,r;return G(()=>{t=r,r=[],J(()=>{e!==n(...r)&&(a(e,...r),t&&A(n(...t),e)&&a(null,...t))})}),()=>{K(()=>{r&&A(n(...r),e)&&a(null,...r)})}}),e}let c=!1,v=Symbol();function ne(e,a,n){const s=n[a]??={store:null,source:j(void 0),unsubscribe:S};if(s.store!==e&&!(v in n))if(s.unsubscribe(),s.store=e??null,e==null)s.source.v=void 0,s.unsubscribe=S;else{var t=!0;s.unsubscribe=X(e,r=>{t?s.source.v=r:W(s.source,r)}),t=!1}return e&&v in n?ee(e):V(s.source)}function ie(){const e={};function a(){Z(()=>{for(var n in e)e[n].unsubscribe();$(e,v,{enumerable:!1,value:!0})})}return[e,a]}function fe(e){var a=c;try{return c=!1,[e(),c]}finally{c=a}}export{ie as a,te as b,fe as c,ae as i,ne as s};
