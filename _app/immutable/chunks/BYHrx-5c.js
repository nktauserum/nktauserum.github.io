import{k as N,o,p as m,E as x,q as D,H as F,v as R,w as q,x as E,y as C,z as y,A as L,U as B,B as H,C as O,D as U,F as Y,G as w,I as z,b as G,J,S as M}from"./BGaY4Y3g.js";function Z(s,f,c=!1){o&&m();var i=s,e=null,a=null,r=B,I=c?x:0,u=!1;const S=(l,t=!0)=>{u=!0,v(t,l)};var n=null;function h(){n!==null&&(n.lastChild.remove(),i.before(n),n=null);var l=r?e:a,t=r?a:e;l&&O(l),t&&U(t,()=>{r?a=null:e=null})}const v=(l,t)=>{if(r===(r=l))return;let b=!1;if(o){const g=D(i)===F;!!r===g&&(i=R(),q(i),E(!1),b=!0)}var p=H(),d=i;if(p&&(n=document.createDocumentFragment(),n.append(d=C())),r?e??=t&&y(()=>t(d)):a??=t&&y(()=>t(d)),p){var _=L,T=r?e:a,k=r?a:e;T&&_.skipped_effects.delete(T),k&&_.skipped_effects.add(k),_.add_callback(h)}else h();b&&E(!0)};N(()=>{u=!1,f(S),u||v(null,null)},I),o&&(i=Y)}function A(s,f){return s===f||s?.[M]===f}function j(s={},f,c,i){return w(()=>{var e,a;return z(()=>{e=a,a=[],G(()=>{s!==c(...a)&&(f(s,...a),e&&A(c(...e),s)&&f(null,...e))})}),()=>{J(()=>{a&&A(c(...a),s)&&f(null,...a)})}}),s}export{j as b,Z as i};
