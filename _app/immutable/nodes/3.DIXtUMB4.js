import"../chunks/DsnmJJEf.js";import"../chunks/D4h2GaMY.js";import{o as C,h as E,e as w,r as $,s as J}from"../chunks/DOr-WeUw.js";import{I as R,J as P,C as e,K as H,M as S,O as n,P as v,Q as b,R as s,$ as z,T as o,V as g,W as D}from"../chunks/nV_WJupt.js";import{i as I}from"../chunks/DBMdUpg_.js";import{r as K}from"../chunks/CNqlCY75.js";import{b as x}from"../chunks/BZM3Tm7F.js";import{b as L}from"../chunks/BAoTgcZP.js";import{p as N}from"../chunks/CdEA5IGF.js";import{i as Q}from"../chunks/DNKSQxea.js";import{g as V}from"../chunks/CVHMZEwz.js";import{b as W}from"../chunks/B5QiFY6V.js";var A=P('<p class="error"> </p>'),B=P('<div class="post-container block"><form class="svelte-137kbop"><button type="submit" class="btn btn-submit svelte-137kbop">Опубликовать</button> <!> <input type="text" placeholder="Заголовок" required class="svelte-137kbop"/> <textarea placeholder="Описание" required class="description block svelte-137kbop"></textarea> <textarea placeholder="Текст поста" required class="content svelte-137kbop"></textarea></form></div>');function it(q,M){R(M,!1);let p=s(""),c=s(""),m=s(""),i=s(null);async function O(){o(i,null);try{const t=await fetch("http://localhost:8080/admin/articles/create",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:e(p),description:e(c),content:e(m)})});if(!t.ok)throw new Error("Login failed");const r=await t.json();V({base:W}+"/articles?post="+r.uuid)}catch(t){o(i,t.message)}}let a=s(),_;function y(){b(a,e(a).style.height="auto");const t=Math.max(e(a).scrollHeight,_);b(a,e(a).style.height=`${t}px`)}C(()=>{b(a,e(a).style.height="65vh"),_=e(a).clientHeight,y()}),Q();var u=B();E(t=>{z.title="Админка"});var h=v(u),k=n(v(h),2);{var T=t=>{var r=A(),j=v(r,!0);g(r),D(()=>J(j,e(i))),H(t,r)};I(k,t=>{e(i)&&t(T)})}var d=n(k,2);K(d);var f=n(d,2);$(f);var l=n(f,2);$(l),L(l,t=>o(a,t),()=>e(a)),g(h),g(u),x(d,()=>e(p),t=>o(p,t)),x(f,()=>e(c),t=>o(c,t)),x(l,()=>e(m),t=>o(m,t)),w("input",l,y),w("submit",h,N(O)),H(q,u),S()}export{it as component};
